<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<app>
		<reports>
			<originator>"ArrayExpress Archive" &lt;ae-mgmt@ebi.ac.uk&gt;
			</originator>
			<recipients>${interface.application.pref.reports.recipients}
			</recipients>
			<subject>Runtime exception report</subject>
			<smtp>
				<host>smtp.ebi.ac.uk</host>
				<port>25</port>
			</smtp>
		</reports>
	</app>
	<ae>
		<setupDirectory>${sys:java.io.tmpdir}/${interface.application.index.directory}
		</setupDirectory>
		<backupDirectory>${sys:java.io.tmpdir}/Backups</backupDirectory>
		<buildLuceneIndexes>${interface.application.lucene.indexes.build}
		</buildLuceneIndexes>
		<pageSizeLimit>${interface.application.pagesize.limit}</pageSizeLimit>
		<db>
			<connections>
				<connection>
					<name>local</name>
					<driver>oracle.jdbc.OracleDriver</driver>
					<url>jdbc:oracle:thin:@localhost:1521:AEPUB1</url>
					<username>${interface.application.db.username}</username>
					<password>${interface.application.db.password}</password>
					<minConnections>30</minConnections>
					<maxConnections>30</maxConnections>
					<testStatement>select 1 from tt_security where rownum = 1
					</testStatement>
				</connection>
				<connection>
					<name>aepub1</name>
					<driver>oracle.jdbc.OracleDriver</driver>
					<url>jdbc:oracle:thin:@otto.ebi.ac.uk:1521:AEPUB1</url>
					<username>${interface.application.db.username}</username>
					<password>${interface.application.db.password}</password>
					<minConnections>30</minConnections>
					<maxConnections>30</maxConnections>
					<testStatement>select 1 from tt_security where rownum = 1
					</testStatement>
				</connection>
				<connection>
					<name>aepub2</name>
					<driver>oracle.jdbc.OracleDriver</driver>
					<url>jdbc:oracle:thin:@moe.ebi.ac.uk:1521:AEPUB2</url>
					<username>${interface.application.db.username}</username>
					<password>${interface.application.db.password}</password>
					<minConnections>30</minConnections>
					<maxConnections>30</maxConnections>
					<testStatement>select 1 from tt_security where rownum = 1
					</testStatement>
				</connection>
				<connection>
					<name>aepub3</name>
					<driver>oracle.jdbc.OracleDriver</driver>
					<url>jdbc:oracle:thin:@smithers.ebi.ac.uk:1521:AEPUB3</url>
					<username>${interface.application.db.username}</username>
					<password>${interface.application.db.password}</password>
					<minConnections>30</minConnections>
					<maxConnections>30</maxConnections>
					<testStatement>select 1 from tt_security where rownum = 1
					</testStatement>
				</connection>
				<connection>
					<name>aecur</name>
					<driver>oracle.jdbc.OracleDriver</driver>
					<url>jdbc:oracle:thin:@moe.ebi.ac.uk:1521:AECUR</url>
					<username>${interface.application.db.username}</username>
					<password>${interface.application.db.password}</password>
					<minConnections>30</minConnections>
					<maxConnections>30</maxConnections>
					<testStatement>select 1 from tt_security where rownum = 1
					</testStatement>
				</connection>
			</connections>
		</db>
		<xmldatabase>
			<driver>${interface.application.db.xml.driver}</driver>
			<connectionstring>${interface.application.db.xml.connection.string}
			</connectionstring>
		</xmldatabase>
		<experiments>
			<ae1>
				<source-location>${interface.application.pref.experiments.ae1.source.location}
				</source-location>
				<db-connections>${interface.application.pref.experiments.ae1.connections}
				</db-connections>
				<reload>
					<atstart>false</atstart>
					<schedule>${interface.application.pref.experiments.ae1.reload.schedule}
					</schedule>
					<threads>25</threads>
				</reload>
				<export-location>${interface.application.pref.experiments.ae1.export.location}
				</export-location>
			</ae1>
			<ae2>
				<source-location>${interface.application.pref.experiments.ae2.source.location}
				</source-location>
				<reload>
					<atstart>false</atstart>
					<schedule>${interface.application.pref.experiments.ae2.reload.schedule}
					</schedule>
				</reload>
			</ae2>

			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-experiments.xml
			</persistence-location>
		</experiments>

		<atlasexperiments>
			<source>
				<location>http://www.ebi.ac.uk/gxa/api?experiment=listAll&amp;experimentInfoOnly=yes&amp;format=xml
				</location>
			</source>
			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-atlas-experiments.txt
			</persistence-location>
			<reload>
				<atstart>false</atstart>
				<schedule>${interface.application.pref.experiments.reload.schedule}
				</schedule>
			</reload>
		</atlasexperiments>

		<arrays>
			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-arrays.xml
			</persistence-location>
			<dropdown-html-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-arrays-dropdown-html.txt
			</dropdown-html-location>
		</arrays>

		<protocols>
			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-protocols.xml
			</persistence-location>
		</protocols>

		<users>
			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-users.xml
			</persistence-location>
		</users>

		<events>
			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-events.xml
			</persistence-location>
		</events>

		<files>
			<root>
				<location>${interface.application.pref.files.root.location}
				</location>
			</root>
			<persistence-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-files.xml
			</persistence-location>
			<rescan>
				<interval>${interface.application.pref.files.rescan.interval}
				</interval>
			</rescan>
		</files>

		<species>
			<dropdown-html-location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-species-dropdown-html.txt
			</dropdown-html-location>
		</species>

		<efo>
			<location>${sys:java.io.tmpdir}/efo.owl</location>
			<source>/WEB-INF/classes/efo.owl</source>
			<update>
				<source>http://efo.svn.sourceforge.net/svnroot/efo/trunk/src/efoinowl/efo.owl
				</source>
				<schedule>${interface.application.pref.efo.update.schedule}
				</schedule>
			</update>
			<ignoreList>/WEB-INF/classes/efo-ignore.txt</ignoreList>
			<synonyms>/WEB-INF/classes/synonyms.txt</synonyms>
			<stopWords>a,able,about,across,after,all,almost,also,am,among,an,and,any,are,as,at,be,because,been,but,by,can,cannot,could,dear,did,do,does,either,else,ever,every,for,from,get,got,had,has,have,he,her,hers,him,his,how,however,i,if,in,into,is,it,its,just,least,let,like,likely,may,me,might,most,must,my,neither,no,nor,not,of,off,often,on,only,or,other,our,own,rather,said,say,says,she,should,since,so,some,than,that,the,their,them,then,there,these,they,this,tis,to,too,twas,us,wants,was,we,were,what,when,where,which,while,who,whom,why,will,with,would,yet,you,your
			</stopWords>
			<index>
				<location>${sys:java.io.tmpdir}/${interface.application.pref.files.prefix}-index/efo
				</location>
			</index>
		</efo>


		<index id="biosamplesgroup"
			location="${sys:java.io.tmpdir}/${interface.application.index.directory}/LuceneIndexes"
			defaultAnalyzer="uk.ac.ebi.arrayexpress.utils.search.AttributeFieldAnalyzer">
			<document path="/Biosamples/SampleGroup" defaultField="keywords">
				<field name="keywords" type="string" path="string-join(.//text(), ' ')"
					analyze="true"
					analyzer="uk.ac.ebi.arrayexpress.utils.search.ExperimentTextAnalyzer"
					autocompletion="true" store="false" escape="false" />
				<field name="id" title="by Id" type="string" path="@id"
					analyze="true" store="true" autocompletion="true" escape="false"
					sortfields="idsort" />
				<!-- The sortfields must have this pproperties analyze="false" store="false" 
					escape="false" -->
				<field name="idsort" title="by Id" type="string" path="substring(@id,5)"
					analyze="false" store="false" escape="false" />

				<field name="description" title="by Description" type="string"
					path="attribute/value[../@class='Submission Description']" analyze="true"
					store="false" escape="false" autocompletion="true" sortfields="description" />
				<field name="name" title="by Description" type="string"
					path="attribute/value[../@class='Name']" analyze="true" store="false"
					escape="false" autocompletion="true" sortfields="description" />
				<field name="title" title="by Description" type="string"
					path="attribute/value[../@class='Submission Title']" analyze="true"
					store="false" escape="false" />
				<field name="identifier" title="by Description" type="string"
					path="attribute/value[../@class='Submission Identifier']" analyze="true"
					store="false" escape="false" />
				<field name="version" title="by Description" type="string"
					path="attribute/value[../@class='Submission Version']" analyze="true"
					store="false" escape="false" />
				<field name="modificationdate" title="by Description" type="string"
					path="attribute/value[../@class='Submission Release Date']"
					analyze="true" store="false" escape="false" />
				<field name="releasedate" title="by Description" type="string"
					path="attribute/value[../@class='Submission Modification Date']"
					analyze="true" store="false" escape="false" />
				<field name="databases" title="by Description" type="string"
					path="attribute/value[../@class='Databases']//value" analyze="true"
					store="false" escape="false" />
				<field name="organizations" title="by Description" type="string"
					path="attribute/value[../@class='Organizations']//value" analyze="true"
					store="false" escape="false" />
				<!-- change to people -->
				<field name="persons" title="by Description" type="string"
					path="attribute/value[../@class='Persons']//value" analyze="true"
					store="false" escape="false" />
				<field name="termsources" title="by Description" type="string"
					path="attribute/value[../@class='Term Sources']//value" analyze="true"
					store="false" escape="false" />

				<!-- used to order the search using the numer os samples -->
				<field name="samples" title="by Description" type="integer"
					path="count(Sample)" store="false" escape="false" sortfields="samples" />
			</document>
		</index>





		<!-- <index id="biosamplessample" location="${sys:java.io.tmpdir}/${interface.application.index.directory}/LuceneIndexes" 
			defaultAnalyzer="uk.ac.ebi.arrayexpress.utils.search.AttributeFieldAnalyzer"> 
			<document path="/Biosamples/SampleGroup/Sample" defaultField="accession"> 
			<field name="accession" type="string" path="@id" analyze="true" store="true" 
			escape="false" sortfields="accession"/> <field name="accessionsort1" title="by 
			Id" type="string" path="substring(@id,4,1)" analyze="false" store="false" 
			escape="false"/> <field name="accessionsort2" title="by Id" type="integer" 
			path="substring(@id,6) cast as xs:integer" store="false" escape="false" sortfields="accessionsort2"/> 
			<field name="accessionsort3" title="by Id" type="string" path="substring(@id,6)" 
			analyze="false" store="false" escape="false" sortfields="accessionsort3"/> 
			<field name="order" title="by Id" type="integer" path="1" analyze="false" 
			store="false" escape="false"/> </document> </index> -->




		<index id="biosamplessample"
			location="${sys:java.io.tmpdir}/${interface.application.index.directory}/LuceneIndexes"
			defaultAnalyzer="uk.ac.ebi.arrayexpress.utils.search.AttributeFieldAnalyzer">
			<!-- <document path="for $sample in (/Biosamples/SampleGroup[@id='SAMEG015574' 
				or @id='SAMEG030430' or @id='SAMEG038449']/Sample) let $x:=distinct-values(/Biosamples/SampleGroup[@id=$sample/@groupId]/Sample/attribute[@dataType 
				!=('INTEGER')]/replace(@class,' ', '-')) let $y:=distinct-values(/Biosamples/SampleGroup[@id=$sample/@groupId]/Sample/attribute[@dataType 
				=('INTEGER')]/replace(@class,' ', '-')) return &lt;Sample id='{$sample/@id}' 
				groupId='{$sample/@groupId}' distinct='{$x}' distinctinteger='{$y}'> {$sample/*[not(self::Sample)]}&lt;/Sample>" 
				defaultField="keywords"> -->
		<!-- 	<document path="/Biosamples/SampleGroup/Sample[@groupId='SAMEG029969']"
				defaultField="keywords"> -->
	
				
	<document path="/Biosamples/SampleGroup/Sample"
				defaultField="keywords">
				<field name="keywords" type="string" path="string-join(.//text(), ' ')"
					analyze="true"
					analyzer="uk.ac.ebi.arrayexpress.utils.search.ExperimentTextAnalyzer"
					autocompletion="true" store="false" escape="false" />
				<field name="name" type="string" path="attribute/value[../@class='Name']"
					analyze="true" store="false" escape="false" sortfields="name" />
				<field name="accession" type="string" path="@id" analyze="true"
					store="true" escape="false" sortfields="accession" />
				<field name="accessionsort1" title="by Id" type="string"
					path="substring(@id,4,1)" analyze="false" store="false" escape="false" />
				<field name="accessionsort2" title="by Id" type="integer"
					path="substring(@id,6) cast as xs:integer" store="false" escape="false"
					sortfields="accessionsort2" />
				<field name="accessionsort3" title="by Id" type="string"
					path="substring(@id,6)" analyze="false" store="false" escape="false"
					sortfields="accessionsort3" />
				<field name="sampleaccession" type="string"
					path="attribute/value[../@class='Sample Accession']" analyze="true"
					store="true" escape="false" sortfields="accession" />
			
				<!-- RPE - just for test -->
				<field name="order" title="by Id" type="integer" path="1"
					store="false" escape="false" sortfields="order" />
				<!-- <field name="order2" title="by Id" type="integer" path="1 cast as 
					xs:integer" store="false" escape="false" sortfields="order2"/> <field name="order3" 
					title="by Id" type="integer" path="1" store="false" escape="false" sortfields="order3"/> -->

				<field name="samplegroup" type="string" path="@groupId"
					analyze="true" store="false" escape="false" />

				<!-- I always have this field in samples list -->
				<field name="0" type="string"
					path="attribute/value[../@class='Sample Accession']" analyze="true"
					store="false" escape="false" sortfields="0" />
				<!-- dynamic sort -->

				<field name="attributes" type="string" path="attribute"
					process="true" analyze="false" store="false" escape="false" />
				<field name="1" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="1" />
				<field name="2" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="2" />
				<field name="3" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="3" />
				<field name="4" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="4" />
				<field name="5" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="5" />
				<field name="6" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="6" />
				<field name="7" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="7" />
				<field name="8" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="8" />
				<field name="9" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="9" />
				<field name="10" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="10" />
				<field name="11" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="11" />
				<field name="12" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="12" />
				<field name="13" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="13" />
				<field name="14" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="14" />
				<field name="15" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="15" />
				<field name="16" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="16" />
				<field name="17" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="17" />
				<field name="18" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="18" />
				<field name="19" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="19" />
				<field name="20" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="20" />
				<field name="21" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="21" />
				<field name="22" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="22" />
				<field name="23" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="23" />
				<field name="24" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="24" />
				<field name="25" type="string" process="true" path="''"
					analyze="false" store="false" escape="false" sortfields="25" />
		

				<field name="1integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="1integer" />
				<field name="2integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="2integer" />
				<field name="3integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="3integer" />

				<field name="4integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="4integer" />
				<field name="5integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="5integer" />
				<field name="6integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="6integer" />

				<field name="7integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="7integer" />
				<field name="8integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="8integer" />
				<field name="9integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="9integer" />

				<field name="10integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="10integer" />
				<field name="11integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="11integer" />
				<field name="12integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="12integer" />

				<field name="13integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="13integer" />
				<field name="14integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="14integer" />
				<field name="15integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="15integer" />

				<field name="16integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="16integer" />
				<field name="17integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="17integer" />
				<field name="18integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="18integer" />

				<field name="19integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="19integer" />
				<field name="20integer" type="integer" process="true" path="0"
					analyze="false" store="false" escape="false" sortfields="20integer" />

			</document>

		</index>


		<index id="biosamplessample_old"
			location="${sys:java.io.tmpdir}/${interface.application.index.directory}/LuceneIndexes"
			defaultAnalyzer="uk.ac.ebi.arrayexpress.utils.search.AttributeFieldAnalyzer">
			<!-- <document path="for $sample in (/Biosamples/SampleGroup[@id='SAMEG015574' 
				or @id='SAMEG030430' or @id='SAMEG038449']/Sample) let $x:=distinct-values(/Biosamples/SampleGroup[@id=$sample/@groupId]/Sample/attribute[@dataType 
				!=('INTEGER')]/replace(@class,' ', '-')) let $y:=distinct-values(/Biosamples/SampleGroup[@id=$sample/@groupId]/Sample/attribute[@dataType 
				=('INTEGER')]/replace(@class,' ', '-')) return &lt;Sample id='{$sample/@id}' 
				groupId='{$sample/@groupId}' distinct='{$x}' distinctinteger='{$y}'> {$sample/*[not(self::Sample)]}&lt;/Sample>" 
				defaultField="keywords"> -->
			<document
				path="for $sample in (/Biosamples/SampleGroup/Sample) let $x:=distinct-values(/Biosamples/SampleGroup[@id=$sample/@groupId]/Sample/attribute[@dataType !=('INTEGER')]/replace(@class,' ', '-')) let $y:=distinct-values(/Biosamples/SampleGroup[@id=$sample/@groupId]/Sample/attribute[@dataType =('INTEGER')]/replace(@class,' ', '-')) return &lt;Sample id='{$sample/@id}' groupId='{$sample/@groupId}' distinct='{$x}' distinctinteger='{$y}'> {$sample/*[not(self::Sample)]}&lt;/Sample>"
				defaultField="keywords">

				<field name="keywords" type="string" path="string-join(.//text(), ' ')"
					analyze="true"
					analyzer="uk.ac.ebi.arrayexpress.utils.search.ExperimentTextAnalyzer"
					autocompletion="true" store="false" escape="false" />
				<field name="name" type="string" path="attribute/value[../@class='Name']"
					analyze="true" store="false" escape="false" sortfields="name" />
				<field name="accession" type="string" path="@id" analyze="true"
					store="true" escape="false" sortfields="accession" />
				<field name="accessionsort1" title="by Id" type="string"
					path="substring(@id,4,1)" analyze="false" store="false" escape="false" />
				<field name="accessionsort2" title="by Id" type="integer"
					path="substring(@id,6) cast as xs:integer" store="false" escape="false"
					sortfields="accessionsort2" />
				<field name="accessionsort3" title="by Id" type="string"
					path="substring(@id,6)" analyze="false" store="false" escape="false"
					sortfields="accessionsort3" />
				<field name="sampleaccession" type="string"
					path="attribute/value[../@class='Sample Accession']" analyze="true"
					store="true" escape="false" sortfields="accession" />


				<!-- RPE - just for test -->
				<field name="order" title="by Id" type="integer" path="1"
					store="false" escape="false" sortfields="order" />
				<!-- <field name="order2" title="by Id" type="integer" path="1 cast as 
					xs:integer" store="false" escape="false" sortfields="order2"/> <field name="order3" 
					title="by Id" type="integer" path="1" store="false" escape="false" sortfields="order3"/> -->

				<field name="samplegroup" type="string" path="@groupId"
					analyze="true" store="false" escape="false" />

				<!-- I always have this field in samples list -->
				<field name="0" type="string"
					path="attribute/value[../@class='Sample Accession']" analyze="true"
					store="false" escape="false" sortfields="0" />
				<!-- dynamic sort -->

				<field name="1" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[1]]"
					analyze="true" store="false" escape="false" sortfields="1" />
				<field name="2" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[2]]"
					analyze="true" store="false" escape="false" sortfields="2" />
				<field name="3" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[3]]"
					analyze="true" store="false" escape="false" sortfields="3" />
				<field name="4" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[4]]"
					analyze="true" store="false" escape="false" sortfields="4" />
				<field name="5" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[5]]"
					analyze="true" store="false" escape="false" sortfields="5" />
				<field name="6" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[6]]"
					analyze="true" store="false" escape="false" sortfields="6" />
				<field name="7" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[7]]"
					analyze="true" store="false" escape="false" sortfields="7" />
				<field name="8" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[8]]"
					analyze="true" store="false" escape="false" sortfields="8" />
				<field name="9" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[9]]"
					analyze="true" store="false" escape="false" sortfields="9" />
				<field name="10" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[10]]"
					analyze="true" store="false" escape="false" sortfields="10" />
				<field name="11" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[11]]"
					analyze="true" store="false" escape="false" sortfields="11" />
				<field name="12" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[12]]"
					analyze="true" store="false" escape="false" sortfields="12" />
				<field name="13" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[13]]"
					analyze="true" store="false" escape="false" sortfields="13" />
				<field name="14" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[14]]"
					analyze="true" store="false" escape="false" sortfields="14" />
				<field name="15" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[15]]"
					analyze="true" store="false" escape="false" sortfields="15" />
				<field name="16" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[16]]"
					analyze="true" store="false" escape="false" sortfields="16" />
				<field name="17" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[17]]"
					analyze="true" store="false" escape="false" sortfields="17" />
				<field name="18" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[18]]"
					analyze="true" store="false" escape="false" sortfields="18" />
				<field name="19" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[19]]"
					analyze="true" store="false" escape="false" sortfields="19" />
				<field name="20" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinct, ' ')[20]]"
					analyze="true" store="false" escape="false" sortfields="20" />


				<field name="1number" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinctinteger, ' ')[1]]"
					analyze="true" store="false" escape="false" sortfields="1number" />
				<field name="2number" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinctinteger, ' ')[2]]"
					analyze="true" store="false" escape="false" sortfields="2number" />
				<field name="3number" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinctinteger, ' ')[3]]"
					analyze="true" store="false" escape="false" sortfields="3number" />
				<field name="4number" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinctinteger, ' ')[4]]"
					analyze="true" store="false" escape="false" sortfields="4number" />
				<field name="5number" type="string"
					path="attribute/value[replace(../@class,' ', '-')=tokenize(../../@distinctinteger, ' ')[5]]"
					analyze="true" store="false" escape="false" sortfields="5number" />

				<!-- <field name="2" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[2]]" 
					analyze="true" store="false" escape="false" sortfields="2"/> <field name="3" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[3]]" analyze="true" store="false" escape="false" sortfields="3"/> 
					<field name="4" type="string" path="attribute/value[replace(../@class,' ', 
					'-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[4]]" 
					analyze="true" store="false" escape="false" sortfields="4"/> <field name="5" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[5]]" analyze="true" store="false" escape="false" sortfields="5"/> 
					<field name="6" type="string" path="attribute/value[replace(../@class,' ', 
					'-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[6]]" 
					analyze="true" store="false" escape="false" sortfields="6"/> <field name="7" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[7]]" analyze="true" store="false" escape="false" sortfields="7"/> 
					<field name="8" type="string" path="attribute/value[replace(../@class,' ', 
					'-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[8]]" 
					analyze="true" store="false" escape="false" sortfields="8"/> <field name="9" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[9]]" analyze="true" store="false" escape="false" sortfields="9"/> 
					<field name="10" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[10]]" 
					analyze="true" store="false" escape="false" sortfields="10"/> <field name="11" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[11]]" analyze="true" store="false" escape="false" sortfields="11"/> 
					<field name="12" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[12]]" 
					analyze="true" store="false" escape="false" sortfields="12"/> <field name="13" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[13]]" analyze="true" store="false" escape="false" sortfields="13"/> 
					<field name="14" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[14]]" 
					analyze="true" store="false" escape="false" sortfields="14"/> <field name="15" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[15]]" analyze="true" store="false" escape="false" sortfields="15"/> 
					<field name="16" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[16]]" 
					analyze="true" store="false" escape="false" sortfields="16"/> <field name="17" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[17]]" analyze="true" store="false" escape="false" sortfields="17"/> 
					<field name="18" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[18]]" 
					analyze="true" store="false" escape="false" sortfields="18"/> <field name="19" 
					type="string" path="attribute/value[replace(../@class,' ', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' 
					', '-'))[19]]" analyze="true" store="false" escape="false" sortfields="19"/> 
					<field name="20" type="string" path="attribute/value[replace(../@class,' 
					', '-')=distinct-values(./../../../Sample/attribute/replace(@class,' ', '-'))[20]]" 
					analyze="true" store="false" escape="false" sortfields="20"/> <field name="list" 
					type="string" path="concat(string-join(distinct-values(./../SampleGroup/Sample/attribute/replace(@class,' 
					', '-')), '#'), @id)" analyze="true" store="false" escape="false" sortfields="1"/> 
					<field name="list5" type="string" path="concat(string-join(distinct-values(../..//Sample/attribute/replace(@class,' 
					', '-')), '#'), @id)" analyze="true" store="false" escape="false" sortfields="1"/> 
					<field name="list3" type="string" path="concat(string-join(distinct-values(root()/SampleGroup[@id='SAMEG015574']/Sample/attribute/replace(@class,' 
					', '-')), '#'), @id)" analyze="true" store="false" escape="false" sortfields="1"/> 
					<field name="list2" type="string" path="//count(//Sample)" analyze="true" 
					store="false" escape="false" sortfields="1"/> <field name="list4" type="string" 
					path="@distinct[1]" analyze="true" store="false" escape="false" sortfields="1"/> 
					<field name="distinct" type="string" path="@distinct" analyze="true" store="false" 
					escape="false" sortfields="1"/> -->
				<!-- <field name="list2" type="string" path="distinct-values(./../../SampleGroup[@id=@groupId]/Sample/attribute/replace(@class,' 
					', '-'))" analyze="true" store="false" escape="false" sortfields="1"/> -->
				<!-- <field name="age" type="integer" path="(if (attribute/value[../@class='Age'] 
					castable as xs:integer) then attribute/value[../@class='Age'] else 0) cast 
					as xs:integer" analyze="true" store="false" escape="false" sortfields="age"/> 
					<field name="disease" type="string" path="attribute/value[../@class='DiseaseType']" 
					analyze="true" store="false" escape="false" sortfields="disease"/> <field 
					name="clinical" type="string" path="attribute/value[../@class='ClinicalHistory']" 
					analyze="true" store="false" escape="false" sortfields="clinical"/> <field 
					name="familyrelationship" type="string" path="attribute/value[../@class='FamilyRelationship']" 
					analyze="true" store="false" escape="false" sortfields="familyrelationship"/> 
					<field name="expansion" type="string" path="attribute/value[../@class='ExpansionLLot']" 
					analyze="true" store="false" escape="false" sortfields="expansion"/> <field 
					name="familymember" type="string" path="attribute/value[../@class='FamilyMember']" 
					analyze="true" store="false" escape="false" sortfields="familymember"/> <field 
					name="geo" type="string" path="attribute/value[../@class='GeographicOrigin']" 
					analyze="true" store="false" escape="false" sortfields="geo"/> <field name="family" 
					type="string" path="attribute/value[../@class='Family']" analyze="true" store="false" 
					escape="false" sortfields="family"/> <field name="clinicallystatus" type="string" 
					path="attribute/value[../@class='ClinicallyAffectedStatus']" analyze="true" 
					store="false" escape="false" sortfields="clinicallystatus"/> <field name="ethnicity" 
					type="string" path="attribute/value[../@class='Ethnicity']" analyze="true" 
					store="false" escape="false" sortfields="ethnicity"/> <field name="sex" type="string" 
					path="attribute/value[../@class='Sex']" analyze="true" store="false" escape="false" 
					sortfields="sex"/> <field name="organism" type="string" path="attribute/value[../@class='Organism']" 
					analyze="true" store="false" escape="false" sortfields="organism"/> <field 
					name="transformation" type="string" path="attribute/value[../@class='TransformationType']" 
					analyze="true" store="false" escape="false" sortfields="transformation"/> 
					<field name="biopsysite" type="string" path="attribute/value[../@class='BiopsySite']" 
					analyze="true" store="false" escape="false" sortfields="biopsysite"/> <field 
					name="sampletype" type="string" path="attribute/value[../@class='SampleType']" 
					analyze="true" store="false" escape="false" sortfields="sampletype"/> <field 
					name="celltype" type="string" path="attribute/value[../@class='CellType']" 
					analyze="true" store="false" escape="false" sortfields="celltype"/> <field 
					name="timeunit" type="string" path="attribute/value[../@class='TimeUnit']" 
					analyze="true" store="false" escape="false" sortfields="timeunit"/> <field 
					name="organismpart" type="string" path="attribute/value[../@class='OrganismPart']" 
					analyze="true" store="false" escape="false" sortfields="organismpart"/> -->



			</document>
		</index>


		<index id="users"
			location="${sys:java.io.tmpdir}/${interface.application.index.directory}/LuceneIndexes"
			defaultAnalyzer="uk.ac.ebi.arrayexpress.utils.search.AttributeFieldAnalyzer">
			<document path="/users/user" defaultField="keywords">
				<field name="keywords" type="string" path="string-join(.//text(), ' ')"
					analyze="true"
					analyzer="uk.ac.ebi.arrayexpress.utils.search.ExperimentTextAnalyzer"
					store="false" escape="false" />
				<field name="id" title="" type="string" path="id" analyze="true"
					store="false" escape="false" />
				<field name="name" title="" type="string" path="name" analyze="true"
					store="false" escape="false" />
				<field name="email" title="" type="string" path="email"
					analyze="true" store="false" escape="false" />
				<field name="admin" title="" type="boolean"
					path="is_privileged/text() = 'true'" />
				<!-- multiple-source filters for curators -->
				<field name="source" type="string" path="@source" analyze="false"
					store="false" escape="false" />
				<field name="migrated" type="boolean" path="@migrated = 'true'" />
			</document>
		</index>
	</ae>
</configuration>
