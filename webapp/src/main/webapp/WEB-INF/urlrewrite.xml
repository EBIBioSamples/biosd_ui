<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite
        PUBLIC "-//tuckey.org//DTD UrlRewrite 3.0//EN"
        "http://tuckey.org/res/dtds/urlrewrite3.0.dtd">

<urlrewrite>


	<!-- biosamples -->
	<rule>
		<from>^/$</from>
		<to type="redirect">%{context-path}/index.html</to>
	</rule>
	<rule>
		<from>^/group/browse\.html$</from>
		<to type="forward">/servlets/query/biosamplesgroup/biosamplesgroup/html</to>
	</rule>

	<rule>
		<from>^/group/browse-table.html</from>
		<to type="forward">/servlets/query/biosamplesgroup/browse-biosamplesgroup/html</to>
	</rule>
	<rule>
		<from>^/group/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplesgroup/biosamplesgroup/html?id=$1</to>
	</rule>
	<rule>
		<from>^/sample/browse\.html$</from>
		<to type="forward">/servlets/query/biosamplessample/biosamplessample/html</to>
	</rule>
	<rule>
		<from>^/sample/browse/((SAM(.*))/?)$</from>
		<to type="forward">/servlets/query/biosamplessample/biosamplessample/html?samplegroup=$1</to>
	</rule>
	<rule>
		<from>^/sample/((SAM(.*))/?)$</from>
		<to type="forward">/servlets/query/biosamplessample/detail-biosamplessample/html?accession=$2</to>
	</rule>

	<rule>
		<from>^/biosamples-stats.xml</from>
		<to type="forward">/servlets/query/noindex/stats/xml</to>
	</rule>

	<rule>
		<from>^/keywords.txt</from>
		<to type="forward">/servlets/lookup/keywords</to>
	</rule>
	<rule>
		<from>^/efotree.txt</from>
		<to type="forward">/servlets/lookup/efotree</to>
	</rule>

	<rule>
		<from>^/www-inc/(.+)</from>
		<to type="forward">/servlets/proxy/http://www.ebi.ac.uk/inc/$1</to>
	</rule>


	<!-- Jobs-rule -->
	<rule>
		<from>^/reload-all</from>
		<to type="forward">/servlets/control/reload-all</to>
	</rule>

	<!-- Jobs-rule -->
	<rule>
		<from>^/reload-efo</from>
		<to type="forward">/servlets/control/reload-efo</to>
	</rule>
	<!-- Jobs-rule -->
	<rule>
		<from>^/update-efo</from>
		<to type="forward">/servlets/control/update-efo</to>
	</rule>

	<!-- Metadata Information-rule -->
	<rule>
		<from>^/metadata</from>
		<to type="forward">/servlets/metadata</to>
	</rule>
	<!-- Metadata Information-rule -->



	<!-- rest API for deprecated APIS-->
	<rule>
		<from>^/xml/v(.*)/group/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplesgroup/biosamplesgroup/xml_v$1?id=$2</to>
	</rule>
	<rule>
		<from>^/xml/v(.*)/group/query=(.*)?$</from>
		<to type="forward">/servlets/query/biosamplesgroup/browse-biosamplesgroup/xml_v$1?keywords=$2</to>
	</rule>

	<rule>
		<from>^/xml/v(.*)/sample/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplessample/biosamplessample/xml_v$1?accession=$2</to>
	</rule>
	<rule>
		<from>^/xml/v(.*)/groupsamples/(SAM(.*))/query=(.*)?$</from>
		<to type="forward">/servlets/query/biosamplessample/browse-biosamplessample/xml_v$1?samplegroup=$2&amp;keywords=$4</to>
	</rule>
	<!-- rest API -->
	
	<!-- rest API -->
	<rule>
		<from>^/xml/group/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplesgroup/biosamplesgroup/xml?id=$1</to>
	</rule>
	<rule>
		<from>^/xml/group/query=(.*)?$</from>
		<to type="forward">/servlets/query/biosamplesgroup/browse-biosamplesgroup/xml?keywords=$1</to>
	</rule>

	<rule>
		<from>^/xml/sample/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplessample/biosamplessample/xml?accession=$1</to>
	</rule>
	<rule>
		<from>^/xml/groupsamples/(SAM(.*))/query=(.*)?$</from>
		<to type="forward">/servlets/query/biosamplessample/browse-biosamplessample/xml?samplegroup=$1&amp;keywords=$3</to>
	</rule>


	<!-- map browse.html + index.html to *page*.jsp - the main ideia is to allow 
		me to include EBI header and footer -->
	<rule>
		<from>index.html</from>
		<to type="forward">index.jsp</to>
	</rule>
	<rule>
		<from>browse.html</from>
		<to type="forward">browse.jsp</to>
	</rule>
	<!-- map browse.html + index.html to *page*.jsp - the main ideia is to allow 
		me to include EBI header and footer -->


	<!-- rest API -->


	<!-- return the original xml -->

	<rule>
		<from>^/original/group/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplesgroup/biosamplesgroup/original?id=$1</to>
	</rule>
	<rule>
		<from>^/original/group/query=(.*)?$</from>
		<!-- im using the biosamplesgroup-xml.xsl - I just want to make a copy -->
		<to type="forward">/servlets/query/biosamplesgroup/biosamplesgroup/original?keywords=$1</to>
	</rule>

	<rule>
		<from>^/original/sample/(SAM(.*))/?$</from>
		<to type="forward">/servlets/query/biosamplessample/biosamplessample/original?accession=$1</to>
	</rule>
	<rule>
		<from>^/original/groupsamples/(SAM(.*))/query=(.*)?$</from>
		<!-- im using the biosamplessample-xml.xsl - I just want to make a copy -->
		<to type="forward">/servlets/query/biosamplessample/biosamplessample/original?samplegroup=$1&amp;keywords=$3</to>
	</rule>

	<!-- return the original xml -->

</urlrewrite>
